'use client';\n\nimport { useEffect, useRef } from 'react';\n\ninterface PerformanceMetrics {\n  pageLoadTime: number;\n  domContentLoaded: number;\n  firstContentfulPaint?: number;\n  largestContentfulPaint?: number;\n}\n\nexport function usePerformanceMonitor(pageName: string) {\n  const startTime = useRef(performance.now());\n\n  useEffect(() => {\n    const measurePerformance = () => {\n      const metrics: PerformanceMetrics = {\n        pageLoadTime: performance.now() - startTime.current,\n        domContentLoaded: performance.timing.domContentLoadedEventEnd - performance.timing.navigationStart,\n      };\n\n      // Get paint metrics if available\n      const paintEntries = performance.getEntriesByType('paint');\n      paintEntries.forEach((entry) => {\n        if (entry.name === 'first-contentful-paint') {\n          metrics.firstContentfulPaint = entry.startTime;\n        }\n      });\n\n      // Get LCP if available\n      const observer = new PerformanceObserver((list) => {\n        const entries = list.getEntries();\n        const lastEntry = entries[entries.length - 1];\n        metrics.largestContentfulPaint = lastEntry.startTime;\n      });\n\n      try {\n        observer.observe({ entryTypes: ['largest-contentful-paint'] });\n      } catch (e) {\n        // LCP not supported\n      }\n\n      // Log metrics in development\n      if (process.env.NODE_ENV === 'development') {\n        console.log(`Performance metrics for ${pageName}:`, metrics);\n      }\n\n      // Clean up observer\n      setTimeout(() => observer.disconnect(), 5000);\n    };\n\n    // Measure after component mounts\n    const timer = setTimeout(measurePerformance, 100);\n    return () => clearTimeout(timer);\n  }, [pageName]);\n\n  return {\n    markStart: () => {\n      startTime.current = performance.now();\n    },\n    markEnd: (label: string) => {\n      const duration = performance.now() - startTime.current;\n      if (process.env.NODE_ENV === 'development') {\n        console.log(`${pageName} - ${label}: ${duration.toFixed(2)}ms`);\n      }\n    }\n  };\n}